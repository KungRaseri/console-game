<UserControl
        x:Class="Game.ContentBuilder.Views.NameListEditorView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        d:DesignHeight="600"
        d:DesignWidth="800"
        mc:Ignorable="d">
        <Grid>
                <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="3*"/>
                                <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>

                        <!--  Main Panel: Pattern Tokens, Component Keys, Components  -->
                        <ScrollViewer
                                Grid.Column="0"
                                Margin="0,0,8,0"
                                VerticalScrollBarVisibility="Auto">
                                <StackPanel>
                                        <!--  Dynamic Components  -->
                                        <ItemsControl ItemsSource="{Binding ComponentNames}">
                                                <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                                <StackPanel>
                                                                        <TextBlock
                                                                                Margin="0,16,0,4"
                                                                                FontWeight="Bold"
                                                                                Text="{Binding .}"/>
                                                                        <ItemsControl ItemsSource="{Binding DataContext.Components[.], RelativeSource={RelativeSource AncestorType=UserControl}}">
                                                                                <ItemsControl.ItemTemplate>
                                                                                        <DataTemplate>
                                                                                                <StackPanel Margin="0,0,0,4"
                                                                                                            Orientation="Horizontal">
                                                                                                        <TextBox
                                                                                                                Width="120"
                                                                                                                Margin="0,0,8,0"
                                                                                                                Text="{Binding Value, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                                        <TextBox
                                                                                                                Width="60"
                                                                                                                Margin="0,0,8,0"
                                                                                                                Text="{Binding RarityWeight, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                                        <TextBox
                                                                                                                Width="60"
                                                                                                                Margin="0,0,8,0"
                                                                                                                Text="{Binding Gender, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                                        <TextBox
                                                                                                                Width="80"
                                                                                                                Margin="0,0,8,0"
                                                                                                                Text="{Binding PreferredSocialClass, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                                        <!--  TODO: Add WeightMultiplier editor  -->
                                                                                                </StackPanel>
                                                                                        </DataTemplate>
                                                                                </ItemsControl.ItemTemplate>
                                                                        </ItemsControl>
                                                                </StackPanel>
                                                        </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                        </ItemsControl>

                                        <!--  Dynamic Patterns  -->
                                        <ItemsControl ItemsSource="{Binding PatternNames}">
                                                <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                                <StackPanel>
                                                                        <TextBlock
                                                                                Margin="0,16,0,4"
                                                                                FontWeight="Bold"
                                                                                Text="{Binding .}"/>
                                                                        <ItemsControl ItemsSource="{Binding DataContext.Patterns[.], RelativeSource={RelativeSource AncestorType=UserControl}}">
                                                                                <ItemsControl.ItemTemplate>
                                                                                        <DataTemplate>
                                                                                                <StackPanel Margin="0,0,0,4"
                                                                                                            Orientation="Horizontal">
                                                                                                        <TextBox
                                                                                                                Width="120"
                                                                                                                Margin="0,0,8,0"
                                                                                                                Text="{Binding Value, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                                        <TextBox
                                                                                                                Width="60"
                                                                                                                Margin="0,0,8,0"
                                                                                                                Text="{Binding RarityWeight, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                                        <TextBox
                                                                                                                Width="60"
                                                                                                                Margin="0,0,8,0"
                                                                                                                Text="{Binding Gender, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                                        <TextBox
                                                                                                                Width="80"
                                                                                                                Margin="0,0,8,0"
                                                                                                                Text="{Binding PreferredSocialClass, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                                        <!--  TODO: Add WeightMultiplier editor  -->
                                                                                                </StackPanel>
                                                                                        </DataTemplate>
                                                                                </ItemsControl.ItemTemplate>
                                                                        </ItemsControl>
                                                                </StackPanel>
                                                        </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                        </ItemsControl>

                                        <!--  Save/Cancel Buttons  -->
                                        <StackPanel
                                                Margin="0,16,0,0"
                                                HorizontalAlignment="Right"
                                                Orientation="Horizontal">
                                                <Button
                                                        Margin="0,0,8,0"
                                                        Command="{Binding CancelCommand}"
                                                        Content="CANCEL"
                                                        Style="{StaticResource MaterialDesignOutlinedButton}"/>
                                                <Button
                                                        Command="{Binding SaveCommand}"
                                                        Content="SAVE"
                                                        Style="{StaticResource MaterialDesignRaisedButton}"/>
                                        </StackPanel>
                                </StackPanel>
                        </ScrollViewer>

                        <!--  Metadata Panel  -->
                        <ScrollViewer Grid.Column="1"
                                      VerticalScrollBarVisibility="Auto">
                                <materialDesign:Card Padding="16">
                                        <StackPanel>
                                                <TextBlock
                                                        Margin="0,0,0,16"
                                                        FontSize="16"
                                                        FontWeight="Bold"
                                                        Text="Metadata &amp; Notes"/>
                                                <TextBlock
                                                        Margin="0,0,0,4"
                                                        Style="{StaticResource MaterialDesignCaptionTextBlock}"
                                                        Text="Description"/>
                                                <TextBox
                                                        Margin="0,0,0,16"
                                                        materialDesign:HintAssist.Hint="Brief description of this file"
                                                        Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                                        Text="{Binding Metadata.Description, UpdateSourceTrigger=PropertyChanged}"/>
                                                <TextBlock
                                                        Margin="0,0,0,4"
                                                        Style="{StaticResource MaterialDesignCaptionTextBlock}"
                                                        Text="Version"/>
                                                <TextBox
                                                        Margin="0,0,0,16"
                                                        materialDesign:HintAssist.Hint="e.g., 1.0, 2.3.1"
                                                        Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                                        Text="{Binding Metadata.Version, UpdateSourceTrigger=PropertyChanged}"/>
                                                <TextBlock
                                                        Margin="0,0,0,4"
                                                        Style="{StaticResource MaterialDesignCaptionTextBlock}"
                                                        Text="Rarity System"/>
                                                <TextBox
                                                        Margin="0,0,0,16"
                                                        materialDesign:HintAssist.Hint="e.g., weight-based"
                                                        Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                                        Text="{Binding Metadata.RaritySystem, UpdateSourceTrigger=PropertyChanged}"/>
                                                <TextBlock
                                                        Margin="0,0,0,4"
                                                        Style="{StaticResource MaterialDesignCaptionTextBlock}"
                                                        Text="Supports Soft Filtering"/>
                                                <CheckBox
                                                        Margin="0,0,0,16"
                                                        Content="Yes"
                                                        IsChecked="{Binding Metadata.SupportsSoftFiltering, UpdateSourceTrigger=PropertyChanged}"/>
                                                <TextBlock
                                                        Margin="0,0,0,4"
                                                        Style="{StaticResource MaterialDesignCaptionTextBlock}"
                                                        Text="Notes"/>
                                                <ItemsControl ItemsSource="{Binding Metadata.Notes}">
                                                        <ItemsControl.ItemTemplate>
                                                                <DataTemplate>
                                                                        <TextBox Margin="0,0,0,4"
                                                                                 Text="{Binding .}"/>
                                                                </DataTemplate>
                                                        </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                                <!--  TODO: Add Add/Remove Note buttons  -->
                                                <TextBlock
                                                        Margin="0,16,0,4"
                                                        Style="{StaticResource MaterialDesignCaptionTextBlock}"
                                                        Text="Last Modified"/>
                                                <TextBox
                                                        IsReadOnly="True"
                                                        Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                                        Text="{Binding Metadata.LastModified}"/>
                                        </StackPanel>
                                </materialDesign:Card>
                        </ScrollViewer>
                </Grid>

                <!--  Status Bar  -->
                <materialDesign:ColorZone
                        Grid.Row="1"
                        Padding="8"
                        Mode="PrimaryLight">
                        <TextBlock VerticalAlignment="Center"
                                   Text="{Binding StatusMessage}"/>
                </materialDesign:ColorZone>
        </Grid>
</UserControl>
